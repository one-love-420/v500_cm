<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><title>drivers/video/msm/mipi_dsi_panel.h - kernel/msm - Git at Google</title><link rel="stylesheet" type="text/css" href="//www.google.com/css/go.css" /><link rel="stylesheet" type="text/css" href="/+static/prettify/prettify.vf-M93Ay4IiiWRQSJKPGWQ.cache.css" /><link rel="stylesheet" type="text/css" href="/+static/gitiles.NflJW88ZoV70lY6sErU9Rw.cache.css" /></head><body><h1><img src="//www.google.com/images/logo_sm.gif" alt="Google" />Git</h1><div class="menu"> <a href="https://www.google.com/a/SelectSession?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/kernel/msm/%2B/3c9050f365927cef4a317f0944209ca2561296a8/drivers/video/msm/mipi_dsi_panel.h">Sign in</a> </div><div class="breadcrumbs"><a href="/?format=HTML">android</a> / <a href="/kernel/msm/">kernel/msm</a> / <a href="/kernel/msm/+/3c9050f365927cef4a317f0944209ca2561296a8">3c9050f365927cef4a317f0944209ca2561296a8</a> / <a href="/kernel/msm/+/3c9050f365927cef4a317f0944209ca2561296a8/">.</a> / <a href="/kernel/msm/+/3c9050f365927cef4a317f0944209ca2561296a8/drivers">drivers</a> / <a href="/kernel/msm/+/3c9050f365927cef4a317f0944209ca2561296a8/drivers/video">video</a> / <a href="/kernel/msm/+/3c9050f365927cef4a317f0944209ca2561296a8/drivers/video/msm">msm</a> / mipi_dsi_panel.h</div><div class="sha1">blob: de20ef82d1a8cc1bbf0be7d5a424b2407e88c27c [<a href="/kernel/msm/+/3c9050f365927cef4a317f0944209ca2561296a8/drivers/video/msm/mipi_dsi_panel.h">file</a>] [<a href="/kernel/msm/+log/3c9050f365927cef4a317f0944209ca2561296a8/drivers/video/msm/mipi_dsi_panel.h">log</a>] [<a href="/kernel/msm/+blame/3c9050f365927cef4a317f0944209ca2561296a8/drivers/video/msm/mipi_dsi_panel.h">blame</a>]</div><ol class="prettyprint"><li><a name="1"></a><span class="com">/* drivers/video/msm/mipi_dsi_panel.h</span></li><li><a name="2"></a><span class="com"> *</span></li><li><a name="3"></a><span class="com"> * Copyright (C) 2010 Sony Ericsson Mobile Communications AB.</span></li><li><a name="4"></a><span class="com"> * Author: Yosuke Hatanaka &lt;yosuke.hatanaka@sonyericsson.com&gt;</span></li><li><a name="5"></a><span class="com"> *</span></li><li><a name="6"></a><span class="com"> * This program is free software; you can redistribute it and/or modify</span></li><li><a name="7"></a><span class="com"> * it under the terms of the GNU General Public License version 2, as</span></li><li><a name="8"></a><span class="com"> * published by the Free Software Foundation; either version 2</span></li><li><a name="9"></a><span class="com"> * of the License, or (at your option) any later version.</span></li><li><a name="10"></a><span class="com"> */</span></li><li><a name="11"></a></li><li><a name="12"></a></li><li><a name="13"></a><span class="com">#ifndef</span><span class="pln"> MIPI_DSI_PANEL_H</span></li><li><a name="14"></a><span class="com">#define</span><span class="pln"> MIPI_DSI_PANEL_H</span></li><li><a name="15"></a></li><li><a name="16"></a><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;linux/types.h&gt;</span></li><li><a name="17"></a><span class="com">#include</span><span class="pln"> </span><span class="str">&quot;mipi_dsi.h&quot;</span></li><li><a name="18"></a></li><li><a name="19"></a><span class="com">#define</span><span class="pln"> ONE_FRAME_TRANSMIT_WAIT_MS </span><span class="lit">20</span></li><li><a name="20"></a></li><li><a name="21"></a><span class="kwd">struct</span><span class="pln"> dsi_controller </span><span class="pun">{</span></li><li><a name="22"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> msm_panel_info </span><span class="pun">*(*</span><span class="pln">get_panel_info</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">void</span><span class="pun">);</span></li><li><a name="23"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dsi_cmd_desc </span><span class="pun">*</span><span class="pln">display_init_cmds</span><span class="pun">;</span></li><li><a name="24"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dsi_cmd_desc </span><span class="pun">*</span><span class="pln">display_on_eco_cmds</span><span class="pun">;</span></li><li><a name="25"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dsi_cmd_desc </span><span class="pun">*</span><span class="pln">display_on_cmds</span><span class="pun">;</span></li><li><a name="26"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dsi_cmd_desc </span><span class="pun">*</span><span class="pln">display_off_cmds</span><span class="pun">;</span></li><li><a name="27"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dsi_cmd_desc </span><span class="pun">*</span><span class="pln">read_id_cmds</span><span class="pun">;</span></li><li><a name="28"></a><span class="pln">	</span><span class="kwd">int</span><span class="pln"> display_init_cmds_size</span><span class="pun">;</span></li><li><a name="29"></a><span class="pln">	</span><span class="kwd">int</span><span class="pln"> display_on_eco_cmds_size</span><span class="pun">;</span></li><li><a name="30"></a><span class="pln">	</span><span class="kwd">int</span><span class="pln"> display_on_cmds_size</span><span class="pun">;</span></li><li><a name="31"></a><span class="pln">	</span><span class="kwd">int</span><span class="pln"> display_off_cmds_size</span><span class="pun">;</span></li><li><a name="32"></a><span class="pun">};</span></li><li><a name="33"></a></li><li><a name="34"></a><span class="kwd">struct</span><span class="pln"> panel_id </span><span class="pun">{</span></li><li><a name="35"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln">			</span><span class="pun">*</span><span class="pln">name</span><span class="pun">;</span></li><li><a name="36"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dsi_controller	</span><span class="pun">*</span><span class="pln">pctrl</span><span class="pun">;</span></li><li><a name="37"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> u32			width</span><span class="pun">;</span><span class="pln">	</span><span class="com">/* in mm */</span></li><li><a name="38"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> u32			height</span><span class="pun">;</span><span class="pln">	</span><span class="com">/* in mm */</span></li><li><a name="39"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln">			</span><span class="pun">*</span><span class="pln">id</span><span class="pun">;</span></li><li><a name="40"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln">			id_num</span><span class="pun">;</span></li><li><a name="41"></a><span class="pun">};</span></li><li><a name="42"></a></li><li><a name="43"></a><span class="kwd">struct</span><span class="pln"> mipi_dsi_data </span><span class="pun">{</span></li><li><a name="44"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dsi_buf tx_buf</span><span class="pun">;</span></li><li><a name="45"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dsi_buf rx_buf</span><span class="pun">;</span></li><li><a name="46"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> msm_fb_panel_data panel_data</span><span class="pun">;</span></li><li><a name="47"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">struct</span><span class="pln"> panel_id </span><span class="pun">*</span><span class="pln">panel</span><span class="pun">;</span></li><li><a name="48"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">struct</span><span class="pln"> panel_id </span><span class="pun">**</span><span class="pln">default_panels</span><span class="pun">;</span></li><li><a name="49"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">struct</span><span class="pln"> panel_id </span><span class="pun">**</span><span class="pln">panels</span><span class="pun">;</span></li><li><a name="50"></a><span class="pln">	</span><span class="kwd">int</span><span class="pln"> </span><span class="pun">(*</span><span class="pln">lcd_power</span><span class="pun">)(</span><span class="kwd">int</span><span class="pln"> on</span><span class="pun">);</span></li><li><a name="51"></a><span class="pln">	</span><span class="kwd">int</span><span class="pln"> </span><span class="pun">(*</span><span class="pln">lcd_reset</span><span class="pun">)(</span><span class="kwd">int</span><span class="pln"> on</span><span class="pun">);</span></li><li><a name="52"></a><span class="com">#ifdef</span><span class="pln"> CONFIG_DEBUG_FS</span></li><li><a name="53"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> dentry </span><span class="pun">*</span><span class="pln">panel_driver_ic_dir</span><span class="pun">;</span></li><li><a name="54"></a><span class="pln">	</span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">debug_buf</span><span class="pun">;</span></li><li><a name="55"></a><span class="com">#endif</span></li><li><a name="56"></a><span class="pln">	</span><span class="kwd">int</span><span class="pln"> panel_detecting</span><span class="pun">;</span></li><li><a name="57"></a><span class="pln">	</span><span class="kwd">int</span><span class="pln"> eco_mode_on</span><span class="pun">;</span></li><li><a name="58"></a><span class="pun">};</span></li><li><a name="59"></a></li><li><a name="60"></a><span class="kwd">void</span><span class="pln"> mipi_dsi_set_default_panel</span><span class="pun">(</span><span class="kwd">struct</span><span class="pln"> mipi_dsi_data </span><span class="pun">*</span><span class="pln">dsi_data</span><span class="pun">);</span></li><li><a name="61"></a><span class="kwd">struct</span><span class="pln"> msm_panel_info </span><span class="pun">*</span><span class="pln">mipi_dsi_detect_panel</span><span class="pun">(</span></li><li><a name="62"></a><span class="pln">	</span><span class="kwd">struct</span><span class="pln"> msm_fb_data_type </span><span class="pun">*</span><span class="pln">mfd</span><span class="pun">);</span></li><li><a name="63"></a><span class="kwd">int</span><span class="pln"> __devinit mipi_dsi_need_detect_panel</span><span class="pun">(</span></li><li><a name="64"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">struct</span><span class="pln"> panel_id </span><span class="pun">**</span><span class="pln">panels</span><span class="pun">);</span></li><li><a name="65"></a><span class="kwd">int</span><span class="pln"> mipi_dsi_update_panel</span><span class="pun">(</span><span class="kwd">struct</span><span class="pln"> platform_device </span><span class="pun">*</span><span class="pln">pdev</span><span class="pun">);</span></li><li><a name="66"></a></li><li><a name="67"></a><span class="kwd">int</span><span class="pln"> eco_mode_sysfs_register</span><span class="pun">(</span><span class="kwd">struct</span><span class="pln"> device </span><span class="pun">*</span><span class="pln">dev</span><span class="pun">);</span></li><li><a name="68"></a></li><li><a name="69"></a><span class="com">#ifdef</span><span class="pln"> CONFIG_DEBUG_FS</span></li><li><a name="70"></a><span class="kwd">void</span><span class="pln"> mipi_dsi_debugfs_init</span><span class="pun">(</span><span class="kwd">struct</span><span class="pln"> platform_device </span><span class="pun">*</span><span class="pln">pdev</span><span class="pun">,</span></li><li><a name="71"></a><span class="pln">	</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="pln">sub_name</span><span class="pun">);</span></li><li><a name="72"></a><span class="kwd">void</span><span class="pln"> mipi_dsi_debugfs_exit</span><span class="pun">(</span><span class="kwd">struct</span><span class="pln"> platform_device </span><span class="pun">*</span><span class="pln">pdev</span><span class="pun">);</span></li><li><a name="73"></a><span class="com">#endif</span><span class="pln"> </span><span class="com">/* CONFIG_DEBUG_FS */</span></li><li><a name="74"></a></li><li><a name="75"></a><span class="com">#endif</span><span class="pln"> </span><span class="com">/* MIPI_DSI_PANEL_H */</span></li></ol><div class="footer">Powered by <a href="https://code.google.com/p/gitiles/">Gitiles</a></div></body></html>